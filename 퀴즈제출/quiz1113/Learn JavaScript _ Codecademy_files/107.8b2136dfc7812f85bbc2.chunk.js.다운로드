(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[107],{"2h7Y":function(e,t,r){"use strict";var s=r("/VKx"),n=r("YhNG"),a=r("0keA"),o=r("I6JG"),i=r("yc/i"),c=r("q1tI"),l=r.n(c),d=r("XVAG"),p=r("FmSy"),m=r("FZcb"),h=r("TSYQ"),u=r.n(h),f="placeholder__1YIG4q7St1PGhI9-dviGBw",b="themeDark__11MCOPZIO-9ayge6Lg-tZ9",k="componentName__3Tl0NF3fxuC9a3YcG9mTgs";class PlaceHolder_PlaceHolder extends c.Component{render(){const e=this.props,t=e.theme,r=e.icon,n=u()({[f]:!0,[b]:"dark"===t});return l.a.createElement(s.a,{grow:1,center:!0,column:!0,className:n},r&&l.a.createElement(r,{size:24}),l.a.createElement("div",{className:k},this.props.componentName),this.props.actionCallBack?l.a.createElement(m.a,{disabled:!this.props.actionButtonEnabled,theme:"lantern",style:{marginTop:20},outline:!0,onClick:this.props.actionCallBack},this.props.action):null)}}PlaceHolder_PlaceHolder.defaultProps={theme:"light"};var _=PlaceHolder_PlaceHolder,g=r("KKCq"),y=r("S6PG"),v="frame__1oLCCuBJRJTr24DjUaBhQ7",w="browserChrome__3ts0vEjYr7Cj2JrG_1E7YG",E="control__3iH4k-zbVGP0sah_u0t8AK",O="controlButton__2qaG7z_76Oeglxww2frYCq",C="urlBarContainer__1UDx2kKEGN5AwGFIHXJ6ht",j="urlBar__3prUpZO-kRFemvSEiqE64O",T="browserBody__284O2kanLBE0Ebh-XwRz6H",S="browserSkeleton__3tkRJ-jHCyMc8DzETu4ssy";class RemoteWebBrowser_RemoteWebBrowser extends c.Component{constructor(...e){super(...e),this.iframeRef=l.a.createRef(),this.handleSendIframeMessage=e=>{this.getIframe().contentWindow.postMessage(e,"*")},this.getIframe=()=>this.iframeRef.current}componentDidMount(){const e=this.props,t=e.onBrowserMessage,r=e.bindBrowserListener;window.addEventListener("message",t,!1),this.removeMessageListener=r(this.handleSendIframeMessage)}componentWillUnmount(){const e=this.props.onBrowserMessage;window.removeEventListener("message",e),this.removeMessageListener()}render(){const e=this.props,t=e.refreshCount,r=e.src,s=e.onBrowserLoad,n=e.onBrowserError;return l.a.createElement("iframe",{title:"Codecademy Web Browser",ref:this.iframeRef,onLoad:s,onError:n,key:t,allowFullScreen:!0,className:v,allow:"geolocation; microphone; camera",src:r})}}var R=RemoteWebBrowser_RemoteWebBrowser;t.a=function WebBrowser(e){const t=e.urlBarRef,r=e.browserRef,c=e.bindBrowserListener,m=e.onUrlBarKeyDown,h=e.onUrlBarChange,u=e.onToggleFullscreen,f=e.onBack,b=e.onRefresh,k=e.onBrowserLoad,v=e.onBrowserError,N=e.onBrowserMessage,x=e.showErrors,B=e.isBlank,P=e.isReady,I=e.isLoading,L=e.src,D=e.refreshCount,H=e.displayUrl,W=void 0===H?"":H;if(!P)return l.a.createElement("div",{className:S},l.a.createElement(y.a,null));let z;return z=B?l.a.createElement(_,{theme:"dark",componentName:"Web Browser",icon:n.a}):l.a.createElement(R,{src:L,onBrowserLoad:k,onBrowserMessage:N,onBrowserError:v,bindBrowserListener:c,refreshCount:D,ref:r}),l.a.createElement(s.a,{grow:1,column:!0},l.a.createElement(s.a,{className:w},l.a.createElement(d.a,{buttonClassName:O,className:E,label:"Navigate back",onClick:f},l.a.createElement(a.a,null)),l.a.createElement(d.a,{buttonClassName:O,className:E,label:"Navigate forward",onClick:b},l.a.createElement(o.a,null)),l.a.createElement(s.a,{center:!0,grow:1,className:C},l.a.createElement("input",{"aria-label":"URL input",type:"text",className:j,value:W,ref:t,placeholder:"Type URL here",onKeyDown:m,onChange:h}),I&&l.a.createElement(g.a,null)),l.a.createElement(d.a,{buttonClassName:O,className:E,label:"Toggle full screen",onClick:u},l.a.createElement(i.a,null))),l.a.createElement(s.a,{grow:1,className:T,column:!0},z),x&&l.a.createElement(p.a,{pinnedBottom:!0}))}},"45Gz":function(e,t,r){"use strict";var s=r("TSYQ"),n=r.n(s),a=r("q1tI"),o=r.n(a),i="taskListCounter__3OMMufUgelMzbxJltKrZ8";t.a=({classNames:e,total:t,complete:r,separator:s="/",text:a="Complete"})=>o.a.createElement("div",{className:n()(i,e.normal,r===t&&e.completed)},o.a.createElement("span",null,r,s,t)," ",a)},"4az4":function(e,t,r){"use strict";var s=r("wx14"),n=r("eC1V"),a=r("q1tI"),o=r.n(a),i=r("z9go"),c="videoContainer__39q5GFKKK-64pDOpcT7GKX",l="video__1L7pkFXzmTb3_Qudutzh-9",d="fullScreen__1-tNKr7GvVMh_s1ldm6lug";class Video_Video extends o.a.Component{componentWillUnmount(){const e=this.refs.video;e&&(e.pause(),e.src="",e.onloadstart=()=>{},e.load())}videoUrl(){return this.props.presenter.video_urls&&this.props.presenter.video_urls[0]}hasExternallyHostedVideo(){const e=this.videoUrl();return e&&(e.match(/youtu(be\.com|\.be)/)||e.match(/vimeo.com/))}renderExternallyHostedVideo(){const e=this.videoUrl();return o.a.createElement(n.a,{videoUrl:e,videoTitle:"",loop:this.props.presenter.loop,controls:this.props.presenter.show_controls,autoplay:this.props.presenter.autoplay,muted:this.props.presenter.muted,className:d,onPlay:()=>Object(i.c)({page_name:"content_item_preview",context:"exercise_video",target:"play_video",video_url:e})})}render(){if(this.hasExternallyHostedVideo())return this.renderExternallyHostedVideo();const e={};return this.props.presenter.autoplay&&(e.autoPlay=!0),this.props.presenter.loop&&(e.loop=!0),this.props.presenter.muted&&(e.muted=!0),this.props.presenter.show_controls&&(e.controls=!0),o.a.createElement("div",{className:c,ref:"container"},o.a.createElement("video",Object(s.a)({ref:"video",className:l},e),this.props.presenter.video_urls.map((e=>o.a.createElement("source",{key:e,src:e})))))}}t.a=Video_Video},G9Nm:function(e,t,r){"use strict";r.d(t,"a",(function(){return ReadOnlyCodeEditor})),r.d(t,"b",(function(){return y}));var s=r("wx14"),n=r("q1tI"),a=r.n(n),o=r("C5ZO"),i=r("z9KF"),c=r("qqJs"),l=r("ev85"),d="mainContainer__3A6_XidxdmQlBKgSPdU-1I",p="editorContainer__Cwzq5dkGR45oL90s-_mwC",m="readOnlyFooterNote__1Cx4kWW1TGejUyHrcoeepu",h="readOnlyCodeEditorSkeleton__1dxPF24pyrosVr3ztoTGyS";const ReadOnlyCodeEditor=e=>{const t=e.isLoading||!e.file;return a.a.createElement("div",{className:d,"data-testid":"read-only-code-editor"},a.a.createElement("div",{className:"editor"},(()=>{const r={title:e.fileName,isActive:!0,clickHandler:()=>{}};return t&&(r.title=""),a.a.createElement(l.a,{theme:"editor"},a.a.createElement(c.a,Object(s.a)({theme:"editor"},r)))})(),a.a.createElement("div",{className:p},t?a.a.createElement("div",{className:h},a.a.createElement(i.a,null)):a.a.createElement(o.a,{file:e.file,readOnly:!0})),a.a.createElement("div",null,a.a.createElement("div",{className:"editor-footer__buttons"},a.a.createElement("div",{className:m},"Read-only")))))};var u,f=r("BzM2"),b=r("NZ0w"),k=r("PIZE"),_=r("4Te6"),g=r("ydTQ");let y=Object(f.b)(g.a,["workspaceReady","workspaceStatusType"])(u=class ReadOnlyCodeEditorRefluxContainer extends a.a.Component{constructor(...e){super(...e),this.state={file:null}}componentDidMount(){this.unsubscribe=[b.a.setWorkspace.completed.listen(this.fetchContent.bind(this)),b.a.getFile.completed.listen(this.onGetFile.bind(this))],this.fetchContent()}componentWillUnmount(){this.unsubscribe.forEach((e=>e()))}fetchContent(){b.a.getFile(this.props.presenter.file_path)}onGetFile(e){e.path===this.props.presenter.file_path&&this.setState({file:e})}isLoading(){const e=this.props,t=e.workspaceReady,r=e.workspaceStatusType;return Object(k.a)({workspaceReady:t,workspaceStatusType:r})}render(){const e=_.a.emptyWithPath(this.props.presenter.file_path).name;return a.a.createElement(ReadOnlyCodeEditor,{isLoading:this.isLoading(),fileName:e,file:this.state.file})}})||u},KKCq:function(e,t,r){"use strict";r.d(t,"a",(function(){return FrancineSpinner}));var s=r("zckR"),n=r("630U"),a=r("q1tI"),o=r.n(a);const FrancineSpinner=()=>o.a.createElement(s.a,{size:14,style:{color:n.f.gray[400]}})},RoNi:function(e,t,r){"use strict";r.d(t,"a",(function(){return TerminalHeader}));var s=r("HS7T"),n=r("yc/i"),a=r("q1tI"),o=r.n(a),i=r("KKCq"),c=r("qqJs"),l=r("ev85");const TerminalHeader=e=>{const t=[];if(e.isLoading)t.push(renderEmptyTab());else for(let r=0;r<e.sessions.length;r+=1)t.push(renderTerminalTab(e,r));return o.a.createElement(l.a,{theme:"terminal"},renderControlButton(e),t,renderFullscreenTab(e))},renderControlButton=e=>e.isBusy?o.a.createElement("div",{style:{width:48},className:"fcn-control"},o.a.createElement(i.a,null)):o.a.createElement(c.a,{key:"terminalTabNew",theme:"terminal",clickHandler:e.createNewTerminal,isDisabled:!e.canCreateSession,isControl:!0},o.a.createElement(s.a,null)),renderEmptyTab=()=>o.a.createElement(c.a,{isActive:!0,canClose:!1,theme:"terminal",key:"terminalTab-empty"}),renderFullscreenTab=e=>o.a.createElement(c.a,{key:"terminalTabFullscreen",clickHandler:e.toggleFullscreen,align:"right",theme:"terminal",isControl:!0},o.a.createElement(n.a,null)),renderTerminalTab=(e,t)=>{const r=e.sessions[t];return o.a.createElement(c.a,{key:"terminalTab".concat(r.id),theme:"terminal",tabId:r.id,title:r.title,clickHandler:()=>{e.selectTerminalSession(t)},canClose:!0,closeHandler:()=>{e.closeTerminalSession(r.id)},isActive:e.currentSessionIndex===t})}},TYUh:function(e,t,r){"use strict";t.a={terminalContainerSkeleton:"terminalContainerSkeleton__3lMCUAmWrnKi-exrdjDk4l",evaluateButton:"evaluateButton__1AC9T-ROvzXJF-ecxbuRW6"}},VAEl:function(e,t,r){"use strict";var s=r("wx14"),n=r("q1tI"),a=r.n(n),o=r("/MKj"),i=r("hkf8"),c=r("Wdql"),l=r("2oex"),d=r("CWAm"),p=r("SvQc"),m=r("doSx");const h={meaningfulContentLoaded:d.d};class Narrative extends n.Component{componentDidMount(){this.props.meaningfulContentLoaded()}render(){const e=this.props,t=e.presenter,r=e.checkpoints,n=e.currentCheckpointIndex,o=e.checkpointRunning,c=e.checkpointFailed,l=e.checkpointPassive,d=e.contentItemTitle,h=e.contentParentTitle;let u,f;!t.instructions||r&&0!==r.length||(u=Object(p.a)(t.instructions)),r&&r.length>0&&(f=r.map(((e,t)=>{const r=t>n;let d="default";return t<n&&(d="satisfied"),t===n&&(c&&(d="unsatisfied"),o&&(d="pending")),a.a.createElement(i.a,Object(s.a)({key:e.id,index:t+1,disabled:r,status:d,passive:l},e))})));const b=!!u||!!f,k=[Object(p.c)(t.content,d,h),...Object(p.b)({context:"le_narrative",isLoggedIn:!0,checkpoints:f,instructions:u,hasInstructionalContent:b})];return a.a.createElement(m.a,{content:k})}}t.a=Object(o.connect)((e=>{const t=Object(l.m)(e)||{},r=t.checkpoints,s=t.title,n=Object(l.k)(e);return{checkpoints:r,contentItemTitle:s,contentParentTitle:n&&n.title,currentCheckpointIndex:Object(c.j)(e),checkpointRunning:Object(c.h)(e),checkpointFailed:Object(c.d)(e),checkpointPassive:Object(c.g)(e)}}),h,null,{forwardRef:!0})(Narrative)},babB:function(e,t,r){"use strict";var s=r("VKDU"),n=r("LGmq"),a=r("q1tI"),o=r.n(a),i=r("/MKj"),c=r("ANjH"),l=r("swBZ"),d=r("5JLQ"),p=r("rePB"),m=r("QkVN"),h=r.n(m),u=r("CWAm"),f=r("wE9P"),b=r("p7af"),k=r("YA6q"),_=r("jhD/"),g=r("2oex"),y=r("KTzr");function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function project_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function project_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?project_ownKeys(Object(r),!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):project_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const updateProjectTaskProgress=(e,t,r)=>async(s,n)=>{const a=Object(f.a)(n(),{id:e.id});if("project"===a.type){const n=e.projectInformation.self_assessments.reduce(((e,s)=>h()(e,s.tasks.reduce(((e,{task_key:s})=>{const n=s===t?r:a.checklist[s],o="true"===n||!0===n;return h()(e,{[s]:o})}),{}))),{}),o=Object.values(n),i=o.filter((e=>e)).length===o.length,c=project_objectSpread(project_objectSpread({},a),{},{content_item_id:e.id,checklist:n,completed:i});s(Object(u.h)({data:{project:e.slug,self_assessment:t,submit_type:"project_checklist_submit"}})),i&&s(Object(u.b)()),s(Object(b.b)(c)),s(((e,t)=>async(r,s)=>{const n=Object(g.g)(s()),a=n.track_id,o=await Object(k.a)({method:"POST",endpoint:"/practice/update_project_progress",data:_objectSpread({project_id:e,track_id:a,tasks:t},Object(_.a)(n))});await o.json(),r(Object(y.a)())})(e.id,n))}},startProject=e=>async t=>{t(Object(b.b)({content_item_id:e.id,started:!0})),t((e=>async(t,r)=>{const s=Object(g.g)(r()),n=s.track_id,a=await Object(k.a)({method:"POST",endpoint:"/practice/start_project",data:_objectSpread({project_id:e,track_id:n},Object(_.a)(s))});await a.json(),t(Object(y.a)())})(e.id))};var v=r("2Y9M"),w=r("doSx"),E=r("hsD4"),O=r("/VKx"),C=r("TSYQ"),j=r.n(C),T=r("OoWH"),S="body__1puO-PnHFWpw0UyjbWF1No",R="item__2f2y_7I5rfWJ_TLZSmhALb",N="centeredCheckbox__2QQhtR9gO-52xrQs_8ZEjS",x="narrativeMarkdown__1UywfcBd-60XKky6qUHIYA",B="scrollable___DFOWZAyFa-jr7fZML66U",P=r("6aUn");class TaskCheckBox_TaskCheckBox extends o.a.PureComponent{constructor(...e){super(...e),this.onKeyDown=e=>{13!==e.which&&32!==e.which||(this.props.onToggle(),e.preventDefault())}}componentDidMount(){this.props.broadcast("taskItemMounted")}render(){const e=j()({"fcn-task__check":!0,"fcn-task__check--checked":this.props.checked,[N]:!0});return o.a.createElement("div",{"aria-checked":this.props.checked,"aria-label":this.props.label,className:e,"data-cue":"discovery-checklist",onKeyDown:this.onKeyDown,role:"checkbox",tabIndex:0,"data-testid":"task-".concat(this.props.number,"-checkbox")},this.props.checked&&o.a.createElement(P.a,{"aria-hidden":!0}))}}var I=TaskCheckBox_TaskCheckBox;class TaskItem_TaskItem extends a.PureComponent{constructor(...e){super(...e),this.handleClick=()=>{this.props.hasCourseContentItemAccess&&this.props.setTask(!this.props.done)}}render(){const e=j()({"fit-full":!0,"fcn-task":!0,"fcn-task--complete":this.props.done});return o.a.createElement("article",{className:e},o.a.createElement(O.a,{className:S,onClick:this.handleClick},o.a.createElement(O.b,null,o.a.createElement(I,{broadcast:this.props.broadcast,checked:this.props.done,label:"Task item ".concat(this.props.number),onToggle:this.handleClick,number:this.props.number})),o.a.createElement(O.b,{className:R},o.a.createElement("span",{className:"fcn-task__number","data-testid":"task-".concat(this.props.number)},this.props.number,".")),o.a.createElement(d.a,{text:this.props.text,className:j()(x,B)})),this.props.hint?o.a.createElement(T.a,{hint:this.props.hint}):null)}}var L=TaskItem_TaskItem;var D=Object(i.connect)((e=>({hasCourseContentItemAccess:Object(g.D)(e)})))(L);class TaskListHeader_TaskListHeader extends o.a.PureComponent{render(){return o.a.createElement("h2",{className:"fit-full fcn-task-header"},this.props.heading)}}var H=TaskListHeader_TaskListHeader,W="tasks__2zeiH_BHmhuJBXUlJC3X0R",z="tasksHelp__2gwNuLZ9kdz9gCp9vw39no";class TaskList_TaskList extends o.a.Component{constructor(...e){super(...e),this.makeTaskItems=({heading:e,tasks:t},r,s)=>{const n=[];return t.forEach(((e,t)=>{n.push(o.a.createElement(D,{text:e.text,number:t+1+r,key:"task-".concat(e.task_key),hint:e.hint,done:e.done,broadcast:this.props.broadcast,setTask:e=>{this.props.setTask(s,t,e)}}))})),o.a.createElement("div",{key:"task-criteria-".concat(e)},n)}}render(){const e=[];let t=0;return this.props.taskGroups.forEach(((r,s)=>{r.heading&&r.heading.length>0&&e.push(o.a.createElement(H,{key:"task-heading-".concat(r.heading),heading:r.heading})),e.push(this.makeTaskItems(r,t,s)),t+=r.tasks.length})),o.a.createElement("div",{className:W},o.a.createElement("span",{className:z},"Mark the tasks as complete by checking them off"),e)}}var K=TaskList_TaskList,F=r("45Gz"),M=r("FZcb"),A=r("Xxlx"),U=r("z9go"),G="group__LspoGf1Fw0-ac_AUnuvRV";function ButtonGroup_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}var q=Object(i.connect)((e=>({contentIds:Object(g.g)(e)})))((({contentIds:e,project:t,hasNoProgress:r,onStart:s})=>{const n=t.slug,a=t.title,i=t.projectInformation.download_path,trackStart=e=>{i&&Object(U.b)("user","email_trigger",function ButtonGroup_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ButtonGroup_ownKeys(Object(r),!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ButtonGroup_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({content_item_name:a,content_item_id:n},e))};return o.a.createElement("div",{className:G},i&&o.a.createElement(A.a,{data:{content_ids:e,target:"ipp_start_download"},href:i,onClick:()=>trackStart({type:"ipp_start_download"})},o.a.createElement(M.a,{onClick:r?s:void 0,theme:"brand-yellow","data-testid":"download-btn"},"Download")),r&&o.a.createElement(A.a,{data:{content_ids:e,target:"ipp_start_platform"},disableTracking:!i,onClick:()=>trackStart({type:"ipp_start_platform"})},o.a.createElement(M.a,{onClick:s,theme:"brand-yellow","data-testid":"start-btn"},"Start")))})),V={taskHeading:"taskHeading__1JEaVBblmeZBvqgNSR70QO",taskListCounter:"taskListCounter__1ntH11Ojh2_05E78kaz98u"};class Brief_Brief extends a.Component{constructor(...e){super(...e),this.setTask=(e,t,r)=>{const s=this.props;(0,s.updateProjectTaskProgress)(s.presenter.project,s.modifiers.assessments[e].tasks[t].task_key,r)},this.onStart=()=>{const e=this.props,t=e.broadcast,r=e.startProject,s=e.presenter.project;t("start"),r(s)}}componentDidMount(){this.props.meaningfulContentLoaded()}render(){const e=this.props,t=e.presenter,r=t.project,a=t.progress,i=t.contentParentTitle,c=t.contentItemTitle,p=e.modifiers.assessments,m=e.broadcast,h=[{heading:o.a.createElement(E.a,{as:"div",icon:s.a},l.components.brief.objective),content:o.a.createElement(v.a,{contentParentTitle:i,contentItemTitle:c},o.a.createElement(d.a,{text:r.projectInformation.objective}),o.a.createElement(q,{hasNoProgress:!a.started,onStart:this.onStart,project:r})),key:"objective"}];if(a.started){const e=p.map((e=>e.tasks)).reduce(((e,t)=>e.concat(t)),[]);h.push({heading:o.a.createElement(E.a,{className:"fcn-task-section__header",icon:n.a,notes:o.a.createElement(F.a,{classNames:{normal:V.taskCounter},total:e.length,complete:e.filter((e=>e.done)).length})},l.components.brief.tasks),content:o.a.createElement(K,{taskGroups:p,setTask:this.setTask,broadcast:m}),key:"selfAssessments"})}return o.a.createElement(w.a,{content:h})}}t.a=Object(i.connect)(null,(e=>Object(c.b)({meaningfulContentLoaded:u.d,startProject:startProject,updateProjectTaskProgress:updateProjectTaskProgress},e)),null,{forwardRef:!0})(Brief_Brief)},e2nI:function(e,t,r){"use strict";var s=r("TSYQ"),n=r.n(s),a=r("q1tI"),o=r.n(a),i={container:"container__36-wQlnaPyDw9Hy_Wz2ad-",image:"image__3xnChNzv-ok3V8P_6J2EMl"};t.a=({presenter:e})=>o.a.createElement("div",{className:i.container},o.a.createElement("img",{src:e.image_url,alt:e.alt_text,className:n()(i.image,e.image_url.endsWith(".gif")?i.animatedImage:i.staticImage)}))},hfsY:function(e,t,r){"use strict";var s=r("sEfC"),n=r.n(s),a=(r("q7KB"),r("TSYQ")),o=r.n(a),i=r("q1tI"),c=r.n(i),l=r("i8i4"),d=r.n(l),p=r("yUt2"),m=r("/POA");var h=class TryPoller{constructor(e){this.func=e}tryForEvery(e,t){let r=0;const s=setInterval((()=>{try{this.func()}catch(n){return r+=t,void(r>=e&&clearInterval(s))}clearInterval(s)}),t)}},u="xterm__2I6LoaWn-Q-6owO7JSU46Z";class RealTerminal_RealTerminal extends c.a.Component{constructor(...e){super(...e),this.resize=n()(((e=this.getRowsCols())=>{if(e.cols<=0||e.rows<=0)return;if(!this.term)return;this.getStream().resize(e.cols,e.rows,(()=>{this.term&&(this.term.resize(e.cols,e.rows),this.term.refresh(0,e.rows-1))}))}),100,{leading:!0}),this.onEnter=n()((()=>{this.props.hasCheckWork||this.props.checkpointRun()}),100),this.focus=()=>{var e,t;this.term&&(this.term.focus(),null===(e=(t=this.props).onFocus)||void 0===e||e.call(t))},this.handleStreamEnd=()=>{this.term&&(this.disposeTerm(),this.props.closeSession(this.props.id))},this.handleStreamData=e=>{if(!this.term)throw new Error("Received stream data when term is not defined");var t;this.term.write(e),null===(t=this.resize)||void 0===t||t.call(this,this.getRowsCols())}}componentDidMount(){if(this.props.workspaceReady){new h((()=>{if(void 0===this.refs.terminal)throw new Error("Terminal ref is not available yet");this.setupTerm()})).tryForEvery(5e3,250)}}getStream(){const e=this.props,t=e.session,r=e.stream;return null!=r?r:t.stream}componentDidUpdate(e){!e.workspaceReady&&this.props.workspaceReady&&this.setupTerm(),e.session!==this.props.session&&this.bindStream()}componentWillUnmount(){this.disposeTerm();const e=this.getStream();e&&(e.removeListener("data",this.handleStreamData),e.removeListener("end",this.handleStreamEnd))}setupTerm(){if(this.term)return;const e=this.getRowsCols();if(e.cols<0||e.rows<0||e.cols===1/0||e.rows===1/0)throw new Error("Invalid number of rows & cols: ".concat(e.rows,", ").concat(e.cols));this.term=new m.Terminal({cols:e.cols,cursorBlink:!0,fontSize:16,lineHeight:1.4,minimumContrastRatio:4.5,rendererType:"dom",rows:e.rows});const t=d.a.findDOMNode(this.refs.terminal);this.term.open(t),this.term.onLineFeed(this.onEnter),this.bindStream()}disposeTerm(){if(this.term){try{this.term.dispose()}catch{}this.term=void 0}}getTextLines(){if(!this.term)return[];const e=[],t=this.term.buffer.active,r=t.getNullCell();for(let s=0;s<t.length;s+=1){const n=t.getLine(s);if(!n){e.push([""]);continue}const a=[];for(let e=0;e<n.length;e+=1)n.getCell(e,r),a.push(r.getChars().padEnd(r.getWidth()));e.push(a)}return e}text(){return this.getTextLines().map((e=>e.join(""))).join("")}outputsByCommands(){const e={};let t;for(const r of this.getTextLines()){const s=r.join("");s.startsWith("$")?(t=s,e[t]||(e[t]=[])):t&&e[t].push(s)}return e}getRowsCols(){const e=d.a.findDOMNode(this.refs.terminal);if(!e)throw new Error("terminal DOM element not found");const t=e.offsetWidth,r=e.offsetHeight;if(0===t||0===r)return{rows:1,cols:1};let s;this.props.fontSize?s=this.props.fontSize:(s=(e=>{const t=document.createElement("div"),r="NOBODYEXPECTSTHESPANISHINQUISITION";t.appendChild(document.createTextNode(r)),t.style.position="absolute",t.style.visibility="hidden",e.appendChild(t);const s={width:t.offsetWidth/r.length,height:t.offsetHeight};return e.removeChild(t),s})(e),this.props.setFontSize(s));let n=Math.floor((t-20)/s.width),a=Math.floor((r-20)/s.height);return(n<1||n===1/0)&&(n=1),(a<1||a===1/0)&&(a=1),{rows:a,cols:n}}blur(){var e,t,r,s;null===(e=this.term)||void 0===e||e.blur(),null===(t=d.a.findDOMNode(this.refs.terminal))||void 0===t||t.blur(),null===(r=(s=this.props).onBlur)||void 0===r||r.call(s)}bindStream(){const e=this.getStream();if(void 0!==e){if(e.on("data",this.handleStreamData),e.on("end",this.handleStreamEnd),this.term){for(const e of this.props.session.writes)this.term.write(e);this.term.onData((t=>{e.write(t)}))}this.props.hasFocus&&this.focus()}}render(){return c.a.createElement("div",{className:o()("fcn-real-container",u)},c.a.createElement(p.a,{handleHeight:!0,handleWidth:!0,onResize:()=>this.resize(),refreshRate:100},c.a.createElement("div",{className:"real-terminal",role:"button",tabIndex:0,ref:"terminal",onClick:this.focus,onBlur:this.props.onBlur})))}}t.a=RealTerminal_RealTerminal},nYFV:function(e,t,r){"use strict";var s=r("E+oP"),n=r.n(s),a=r("MKeS"),o=r("TSYQ"),i=r.n(o),c=r("q1tI"),l=r.n(c),d=r("hfsY");const p=Object(a.a)({resolved:{},chunkName:()=>"private-FakeTerminal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>Promise.all([r.e(293),r.e(491)]).then(r.bind(null,"B5px")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve(){return"B5px"}});class Terminal extends l.a.Component{constructor(...e){super(...e),this.state={fake:!n()(this.props.fakeResponses),history:[]}}realTerminalText(){var e;return null===(e=this.refRealTerminal)||void 0===e?void 0:e.text()}realTerminalOutputsByCommands(){var e;return null===(e=this.refRealTerminal)||void 0===e?void 0:e.outputsByCommands()}resize(e){var t;null===(t=this.refRealTerminal)||void 0===t||t.resize(e)}render(){let e;const t=i()({"fcn-terminal":!0,"fcn-terminal--active":this.props.isActive});if(this.props.workspaceReady)if(this.state.fake)e=l.a.createElement(p,{history:this.state.history,fakeResponses:this.props.fakeResponses,handleRealResponse:this.props.handleRealResponse,checkpointRun:()=>this.props.checkpointRun(this.didRunCommand.bind(this))});else{const t=this.props,r=t.session,s=t.stream;e=l.a.createElement(d.a,{ref:e=>this.refRealTerminal=e,id:this.props.terminalId,session:r,stream:s,onFocus:this.props.onFocus,onBlur:this.props.onBlur,hasCheckWork:this.props.hasCheckWork,checkpointRun:()=>this.props.checkpointRun(this.didRunCommand.bind(this)),closeSession:this.props.closeSession,hasFocus:this.props.hasFocus,fontSize:this.props.fontSize,setFontSize:this.props.setFontSize,workspaceReady:this.props.workspaceReady})}else e=null;return l.a.createElement("div",{className:t},e)}didRunOneOf(e,t,r){for(const s of e)if(this.didRunCommand(s,t,r))return!0;return!1}didRunCommand(e,t,r){if(this.state.fake)return this.state.history.some((s=>{const n=e instanceof RegExp?e.test(s.input):e===s.input,a=!t||s.exitCode===t;let o=!0;return"string"==typeof r&&(o=s.output.search(r)>=0),n&&a&&o}));if(r){const t=this.realTerminalOutputsByCommands();return Object.keys(t).some((s=>s.search(e)>=0&&t[s].some((e=>e.search(r)>=0))))}return this.realTerminalText().search(e)>=0}ranWithExitCode(e,t){return this.didRunCommand(e,t)}ranOneOfWithExitCode(e,t){return this.didRunOneOf(e,t)}ranWithOutput(e,t){return this.didRunCommand(e,void 0,t)}ranOneOfWithOutput(e,t){return this.didRunOneOf(e,void 0,t)}ranWithExitCodeAndOutput(e,t,r){return this.didRunCommand(e,t,r)}ranOneOfWithExitCodeAndOutput(e,t,r){return this.didRunOneOf(e,t,r)}}Terminal.defaultProps={isActive:!1},t.a=Terminal}}]);
//# sourceMappingURL=107.8b2136dfc7812f85bbc2.chunk.js.map